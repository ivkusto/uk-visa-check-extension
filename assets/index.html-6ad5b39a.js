import{a as h,b as f,t as b,r as v,c as w}from"./index-f126c1d9.js";import{c,g as l}from"./config-63eb9ce4.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const _="_App_33adx_1",A="_header_33adx_6",m={App:_,header:A};async function $(s){return new Promise((o,n)=>{const t=indexedDB.open(c.dbName,1);t.onupgradeneeded=e=>{l(e).result.createObjectStore(c.store,{keyPath:"id",autoIncrement:!0}).createIndex(c.index,c.index,{multiEntry:!0})},t.onsuccess=e=>{const i=l(e).result.transaction(c.store,"readwrite"),a=i.objectStore(c.store);s.forEach(d=>{a.add(d)}),i.oncomplete=()=>o(!0),i.onerror=()=>n(i.error)},t.onerror=e=>{n(l(e).error)}})}const x=b('<div><header><input type="file" accept=".csv">'),O=()=>(()=>{const s=x(),o=s.firstChild;return o.firstChild.addEventListener("change",S),h(t=>{const e=m.App,r=m.header;return e!==t._v$&&f(s,t._v$=e),r!==t._v$2&&f(o,t._v$2=r),t},{_v$:void 0,_v$2:void 0}),s})(),S=async s=>{const o=s.target.files?.[0];if(o)try{const n=await E(o);if(!n)return;const e=n.split(`
`).slice(1).map(r=>{const[i,a,d,p,g,y]=r.split(","),u=i?.replace(/[^\w]/g," ").trim().toLowerCase();return{orgName:u,town:a?.trim(),industry:d?.trim(),mainTier:p?.trim(),subTier:g?.trim(),dateAdded:new Date(y?.trim()),words:N(u)}});await $(e)}catch(n){console.error("Error loading CSV:",n)}};function E(s){return new Promise((o,n)=>{const t=new FileReader;t.onload=e=>o(e.target?.result),t.onerror=e=>n(e),t.readAsText(s)})}function N(s){if(!s)return null;var o=s.split(" "),n=o.reduce((t,e)=>(!/^\d+$/.test(e)&&e&&(t[e]=!0),t),{});return Object.keys(n)}const T=document.getElementById("root");v(()=>w(O,{}),T);
